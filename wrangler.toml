name = "smartpages-dashboard"
main = "dist/_worker.js"
compatibility_date = "2025-12-01"
compatibility_flags = ["nodejs_compat"]

# ❌ Entfernt: [site] block – weil SSR Worker kein client bucket braucht
# [site]
# bucket = "dist/client"

[build]
command = "npm run build"

[vars]
ENVIRONMENT = "production"

[[kv_namespaces]]
binding = "SESSION"
id = "3ab700118c7d4b41bfefbc3cbeafe527"

[[d1_databases]]
binding = "AUTH_DB"
database_name = "smartpages_auth_eu"
database_id = "afe58dd1-98d3-459c-8112-aeea65b53916"

[[d1_databases]]
binding = "CORE_DB"
database_name = "smartcore-db_eu"
database_id = "f4c72bb3-9d56-4013-8404-47ad64808d5a"

[observability]
enabled = true
