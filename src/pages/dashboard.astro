import PageLayout from "~/layouts/PageLayout.astro";
import DashboardRoot from "~/components/pages/dashboard/solid/DashboardRoot.jsx";
import ProductGrid from "~/components/shared/ProductGrid.astro";
import dashboardI18n from "~/utils/i18n/dashboard";

// âš ï¸ Fallback-Text (wird nach Hydration ersetzt)
const lang = "de";
const tDashboard = dashboardI18n[lang];

const upsellProducts = Object.values(tDashboard.upsell).map((p) => ({
  title: p.title,
  text: p.text,
  action: "#",
}));
---

<PageLayout sidebar header>
  <main class="max-w-6xl mx-auto px-4 mt-6 mb-20 space-y-8">

    <!-- ðŸ§  Solid Ã¼bernimmt alles -->
    <DashboardRoot client:only="solid-js" />

    <!-- ðŸ›’ Upsell (Astro bleibt ok) -->
    <ProductGrid products={upsellProducts} />

  </main>
</PageLayout>
