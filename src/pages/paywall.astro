---
export const prerender = false;

import PageLayout from "~/layouts/PageLayout.astro";
import { t } from "~/utils/i18n/i18n";

const lang = Astro.locals.language || "de";
const { product } = Astro.params;

// Absicherung
const allowed = ["smartprofile", "smartpage", "smartdomain"];
if (!allowed.includes(product)) {
  throw Astro.redirect(`/${lang}/dashboard`);
}
---

<PageLayout title={t(lang, "paywall", product, "title")} lang={lang}>
  <main class="max-w-5xl mx-auto px-6 py-12">

    <h1 class="text-3xl font-bold mb-4">
      {t(lang, "paywall", product, "headline")}
    </h1>

    <p class="text-lg opacity-80 mb-10">
      {t(lang, "paywall", product, "intro")}
    </p>

    <!-- FEATURES -->
    <ul class="grid gap-4 mb-12">
      {t(lang, "paywall", product, "features").map((f) => (
        <li class="flex gap-3">
          <span>âœ…</span>
          <span>{f}</span>
        </li>
      ))}
    </ul>

    <!-- CTA -->
    <a
      href={`/api/billing/checkout?product=${product}`}
      class="inline-flex items-center justify-center rounded-xl px-8 py-4
             bg-gradient-to-r from-indigo-500 to-violet-600
             text-white font-semibold hover:scale-[1.02] transition"
    >
      {t(lang, "paywall", "cta")}
    </a>

  </main>
</PageLayout>
