---
import PageLayout from "~/layouts/PageLayout.astro";
import DashboardCardWide from "~/components/core/DashboardCardWide.astro";
import CustomerCard from "~/components/core/CustomerCard.jsx";
import ImprintCard from "~/components/core/ImprintCard.jsx";
import ProductCardGrid from "~/components/core/ProductCardGrid.astro";
import { onMount } from "solid-js";
import { createSignal } from "solid-js";

const [showAuthPopup, setShowAuthPopup] = createSignal(true);

// Popup nach Auth-Ende oder nach 2 Sekunden ausblenden
onMount(() => {
  setTimeout(() => setShowAuthPopup(false), 2000);
});
---

<PageLayout title="Dashboard" headerOffset="compact">
  <!-- ğŸ”” Auth Popup -->
  {showAuthPopup() && (
    <div
      class="fixed top-24 left-1/2 transform -translate-x-1/2 z-50
             bg-[#E53935] text-white text-center px-6 py-3 rounded-xl shadow-lg
             w-[90%] max-w-md border border-red-700/40">
      ğŸ” Wir prÃ¼fen gerade deine Anmeldung...
    </div>
  )}

  <!-- ğŸ§­ Benutzerinformationen -->
  <section class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 mb-10 mt-20">
    <DashboardCardWide>
      <CustomerCard client:only="solid" />
    </DashboardCardWide>

    <DashboardCardWide>
      <ImprintCard client:only="solid" />
    </DashboardCardWide>
  </section>

  <!-- ğŸ§© ProduktÃ¼bersicht -->
  <DashboardCardWide>
    <ProductCardGrid
      products={[
        {
          title: "SmartPage",
          label: "Deine persÃ¶nliche Landingpage",
          text: "Schnell, einfach, professionell â€“ in 10 Minuten online.",
          gradient: "from-[#F5B400] to-[#E47E00]",
        },
        {
          title: "SmartDomain",
          label: "Deine eigene Webadresse",
          text: "Sichere dir deine Wunschdomain und bleibe im GedÃ¤chtnis.",
          gradient: "from-[#8B5CFF] to-[#A076FF]",
        },
        {
          title: "SmartProfile",
          label: "Online-Visitenkarte",
          text: "Mach dein Business sichtbar â€“ Ã¼berall und jederzeit.",
          gradient: "from-[#4E6BFF] to-[#657AFF]",
        },
      ]}
    />
  </DashboardCardWide>

  <!-- ğŸ’¬ Feedback -->
  <div class="text-center mt-10 mb-6 text-gray-600 text-sm">
    ğŸ“¬ Feedback? Schreib uns an 
    <a
      href="mailto:support@smartpages.online"
      class="text-[#4F6EF7] underline hover:text-[#2D46B9]"
    >
      support@smartpages.online
    </a>
  </div>

  <!-- âš™ï¸ Footer -->
  <footer
    class="text-center text-sm text-gray-500 py-4 border-t border-gray-200 bg-white/80 backdrop-blur-sm"
  >
    Â© {new Date().getFullYear()} SmartPages Â· Hosted in Europe Â· DSGVO-konform
  </footer>
</PageLayout>
