---
import PageLayout from "~/layouts/PageLayout.astro";
import CustomerCard from "~/components/core/CustomerCard.jsx";
import ImprintCard from "~/components/core/ImprintCard.jsx";
import ProductCardGrid from "~/components/core/ProductCardGrid.astro";
import { createSignal, onMount } from "solid-js";

const [showPopup, setShowPopup] = createSignal(true);

// Popup verschwindet nach 2 Sekunden automatisch
onMount(() => {
  const timer = setTimeout(() => setShowPopup(false), 2000);
  return () => clearTimeout(timer);
});

// Produktkarten definieren
const products = [
  {
    title: "SmartProfile",
    text: "Erstelle Dein professionelles Profil mit nur wenigen Klicks â€“ perfekt fÃ¼r Freelancer, Coaches und Unternehmer.",
    gradient: "from-[#4E6BFF] to-[#657AFF]",
  },
  {
    title: "SmartPage",
    text: "Erstelle beeindruckende, konversionsoptimierte Seiten in Minuten â€“ einfach, schnell und professionell.",
    gradient: "from-[#F5B400] to-[#E47E00]",
  },
  {
    title: "SmartDomain",
    text: "Sichere Dir Deine eigene Domain direkt in SmartPages â€“ professionell, einfach und DSGVO-konform.",
    gradient: "from-[#8B5CFF] to-[#A076FF]",
  },
];
---

<PageLayout title="Dashboard">
  <!-- ðŸ” Popup PrÃ¼fung Anmeldung -->
  {showPopup() && (
    <div
      class="absolute top-24 left-1/2 transform -translate-x-1/2
             bg-[#E57373] text-white text-center px-6 py-3 rounded-2xl shadow-md
             text-base font-semibold z-50"
    >
      PrÃ¼fe Anmeldung...
    </div>
  )}

  <!-- ðŸ§¾ Inhalt -->
  <main class="flex flex-col gap-8 max-w-6xl mx-auto px-4 mt-12 mb-20">
    <!-- Kundendaten -->
    <div class="bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md border border-gray-200">
      <CustomerCard client:only="solid" />
    </div>

    <!-- Impressumsdaten -->
    <div class="bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-md border border-gray-200">
      <ImprintCard client:only="solid" />
    </div>

    <!-- ProduktÃ¼bersicht -->
    <div class="mt-4">
      <ProductCardGrid products={products} />
    </div>

    <!-- Feedback -->
    <div class="bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-sm text-center border border-gray-200">
      <h3 class="font-semibold text-gray-800 text-lg mb-1">
        Dein Feedback hilft uns, besser zu werden
      </h3>
      <p class="text-gray-600 text-sm mb-4">
        Teile Fehler, Ideen oder VorschlÃ¤ge â€“ hilf uns, SmartPages noch besser zu machen.
      </p>
      <button
        class="bg-[#C94C43] hover:bg-[#B33D35] text-white px-6 py-2 rounded-xl shadow transition-all duration-200"
      >
        Feedback senden
      </button>
    </div>
  </main>

  <!-- âš™ï¸ Footer -->
  <footer
    class="text-center text-sm text-gray-500 py-4 border-t border-gray-200 bg-white/80 backdrop-blur-sm"
  >
    Â© {new Date().getFullYear()} SmartPages Â· Gehostet in Europa Â· DSGVO-konform
  </footer>
</PageLayout>
