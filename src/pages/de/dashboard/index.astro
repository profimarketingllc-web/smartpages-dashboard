---
import PageLayout from "~/layouts/PageLayout.astro";

// Beispiel-Daten (spÃ¤ter dynamisch aus D1)
const user = {
  first_name: "Frank",
  last_name: "HÃ¼ser",
  email: "frank@smartpages.online",
  plan: "trial", // trial, smartprofile, smartpage, smartdomain
  status: "active",
  is_business: true,
  last_login: "2025-12-21 22:14",
  trial_end: "2026-01-15",
  logged_in: true,
};
---

<PageLayout sidebar={true} header={true} lang="de">
  <!-- ðŸ§­ Account Info -->
  <section
    class="mt-4 mx-8 bg-white shadow-lg rounded-2xl p-6 border border-gray-100"
  >
    <!-- ðŸ”¹ Header mit Login-Pill -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
      <h1 class="text-2xl font-bold text-gray-800 mb-2 md:mb-0">
        Willkommen zurÃ¼ck, {user.first_name} ðŸ‘‹
      </h1>

      <span
        class={`px-4 py-1.5 rounded-full text-sm font-semibold ${
          user.logged_in
            ? "bg-green-100 text-green-700 border border-green-300"
            : "bg-red-100 text-red-700 border border-red-300"
        }`}
      >
        {user.logged_in ? "Eingeloggt" : "Nicht eingeloggt"}
      </span>
    </div>

    <!-- ðŸ§¾ Kundendaten -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-2">
      <div>
        <p class="text-gray-500 text-sm">Name</p>
        <p class="font-medium text-gray-800">
          {user.first_name} {user.last_name}
        </p>
      </div>
      <div>
        <p class="text-gray-500 text-sm">E-Mail</p>
        <p class="font-medium text-gray-800">{user.email}</p>
      </div>
      <div>
        <p class="text-gray-500 text-sm">Status</p>
        <p class="font-medium text-gray-800">
          {user.is_business ? "Business" : "Privat"}
        </p>
      </div>
      <div>
        <p class="text-gray-500 text-sm">Plan</p>
        <p
          class={`font-semibold ${
            user.plan === "smartprofile"
              ? "text-[#4E6BFF]"
              : user.plan === "smartpage"
              ? "text-[#E47E00]"
              : user.plan === "smartdomain"
              ? "text-[#8B5CFF]"
              : "text-gray-600"
          }`}
        >
          {user.plan === "trial" ? "Trial (7 Tage)" : user.plan}
        </p>
      </div>
      <div>
        <p class="text-gray-500 text-sm">Letztes Login</p>
        <p class="font-medium text-gray-800">{user.last_login}</p>
      </div>
      <div>
        <p class="text-gray-500 text-sm">Testphase bis</p>
        <p class="font-medium text-gray-800">{user.trial_end}</p>
      </div>
    </div>

    <!-- ðŸ”¹ Daten bearbeiten Button (klein, unten links) -->
    <div class="mt-5">
      <button
        class="text-sm px-4 py-1.5 bg-gradient-to-r from-[#4E6BFF] to-[#657AFF] text-white rounded-lg shadow hover:opacity-90 transition"
        title="Diese Funktion ist in der Beta-Version noch nicht aktiv"
      >
        Daten bearbeiten (Beta)
      </button>
    </div>
  </section>

  <!-- ðŸ’Ž Produkt-Kacheln -->
  <section class="grid grid-cols-1 md:grid-cols-3 gap-6 p-8 mt-4">
    <div
      class="rounded-2xl p-6 shadow-xl bg-gradient-to-r from-[#4E6BFF] to-[#657AFF] text-white"
    >
      <h3 class="text-2xl font-bold mb-2">SmartProfile</h3>
      <p class="text-sm">
        Erstelle Dein persÃ¶nliches Profil mit nur wenigen Klicks â€“ perfekt fÃ¼r Freelancer, Coaches und Unternehmer.
      </p>
    </div>

    <div
      class="rounded-2xl p-6 shadow-xl bg-gradient-to-r from-[#F5B400] to-[#E47E00] text-white"
    >
      <h3 class="text-2xl font-bold mb-2">SmartPage</h3>
      <p class="text-sm">
        Baue beeindruckende Seiten mit wenigen Klicks. Einfach, schnell und professionell gestaltet.
      </p>
    </div>

    <div
      class="rounded-2xl p-6 shadow-xl bg-gradient-to-r from-[#8B5CFF] to-[#A076FF] text-white"
    >
      <h3 class="text-2xl font-bold mb-2">SmartDomain</h3>
      <p class="text-sm">
        Sichere Deine eigene Domain direkt in SmartPages â€“ professionell, einfach und DSGVO-konform.
      </p>
    </div>
  </section>

  <!-- ðŸ’¬ Feedback & Team Kontakt -->
  <section
    class="mx-auto text-center mt-4 mb-10 bg-white shadow-md rounded-2xl border border-gray-100 p-6 max-w-3xl"
  >
    <h2 class="text-xl font-semibold text-gray-800 mb-2">
      Dein Feedback hilft uns
    </h2>
    <p class="text-gray-600 mb-4">
      Teile Bugs, WÃ¼nsche und Ideen. Wir nutzen Dein Feedback, um das Dashboard gezielt weiterzuentwickeln.
    </p>
    <div class="flex flex-wrap justify-center gap-4">
      <button
        class="bg-red-600 hover:bg-red-700 text-white font-semibold px-5 py-2 rounded-lg shadow transition"
        title="Ã–ffnet das Feedbackformular"
      >
        Feedback-Formular Ã¶ffnen
      </button>
      <button
        class="bg-[#1E2A45] hover:bg-[#2E3A55] text-white font-semibold px-5 py-2 rounded-lg shadow transition"
        title="E-Mail an das SmartPages-Team"
      >
        E-Mail an das Team
      </button>
    </div>
    <p class="text-gray-500 text-sm mt-4">
      Wir lesen alles und melden uns bei RÃ¼ckfragen â€“ vielen Dank!
    </p>
  </section>
</PageLayout>
