---
import PageLayout from "~/layouts/PageLayout.astro";

// ðŸ§  Beispiel-Daten (werden spÃ¤ter vom Customer-Worker geladen)
const user = {
  first_name: "Frank",
  last_name: "HÃ¼ser",
  email: "frank@smartpages.online",
  plan: "trial", // z. B. "trial", "smartprofile", "smartpage", "smartdomain"
  status: "active",
  is_business: true,
  last_login: "2025-12-21 22:14",
  trial_end: "2026-01-15",
  logged_in: true,
};
---

<PageLayout sidebar={true} header={true} lang="de" headerOffset="compact">
  <!-- ðŸ§­ Account Info -->
  <section
    class="mt-0 mx-8 bg-[#F9FAFB] shadow-lg rounded-2xl p-6 border border-gray-200"
  >
    <!-- Header + Login Status -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-3">
      <h1 class="text-2xl font-bold text-gray-800 mb-2 md:mb-0">
        Willkommen zurÃ¼ck, {user.first_name} ðŸ‘‹
      </h1>

      <span
        class={`px-4 py-1.5 rounded-full text-sm font-semibold ${
          user.logged_in
            ? "bg-green-100 text-green-700 border border-green-300"
            : "bg-red-100 text-red-700 border border-red-300"
        }`}
      >
        {user.logged_in ? "Eingeloggt" : "Nicht eingeloggt"}
      </span>
    </div>

    <!-- Kundendaten -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-1">
      <div>
        <p class="text-gray-500 text-sm">Name</p>
        <p class="font-medium text-gray-800">
          {user.first_name} {user.last_name}
        </p>
      </div>
      <div>
        <p class="text-gray-500 text-sm">E-Mail</p>
        <p class="font-medium text-gray-800">{user.email}</p>
      </div>
      <div>
        <p class="text-gray-500 text-sm">Status</p>
        <p class="font-medium text-gray-800">
          {user.is_business ? "Business" : "Privat"}
        </p>
      </div>

      <div>
        <p class="text-gray-500 text-sm">Plan</p>
        <p
          class={`font-semibold ${
            user.plan === "smartprofile"
              ? "text-[#4E6BFF]"
              : user.plan === "smartpage"
              ? "text-[#E47E00]"
              : user.plan === "smartdomain"
              ? "text-[#8B5CFF]"
              : "text-gray-600"
          }`}
        >
          {user.plan === "trial" ? "Trial (7 Tage)" : user.plan}
        </p>
      </div>
      <div>
        <p class="text-gray-500 text-sm">Freigeschaltet bis</p>
        <p class="font-medium text-gray-800">{user.trial_end}</p>
      </div>
      <div>
        <p class="text-gray-500 text-sm">Letztes Login</p>
        <p class="font-medium text-gray-800">{user.last_login}</p>
      </div>
    </div>

    <!-- Daten bearbeiten Button -->
    <div class="mt-5 flex justify-center">
      <button
        class="text-sm px-5 py-2 bg-white border border-gray-200 text-[#1E2A45] font-medium rounded-lg shadow-sm
               hover:bg-gradient-to-r hover:from-[#F5B400] hover:to-[#E47E00] hover:text-white
               transition-all duration-300 ease-in-out"
        title="Deine Kontodaten bearbeiten"
      >
        Daten bearbeiten
      </button>
    </div>
  </section>

  <!-- ðŸ’Ž Produkt-Kacheln -->
  <section class="grid grid-cols-1 md:grid-cols-3 gap-6 p-8 mt-4">
    <div
      class="rounded-2xl p-6 shadow-xl bg-gradient-to-r from-[#4E6BFF] to-[#657AFF] text-white"
    >
      <h3 class="text-2xl font-bold mb-2">SmartProfile</h3>
      <p class="text-sm">
        Erstelle Dein persÃ¶nliches Profil mit nur wenigen Klicks â€“ perfekt fÃ¼r Freelancer, Coaches und Unternehmer.
      </p>
    </div>

    <div
      class="rounded-2xl p-6 shadow-xl bg-gradient-to-r from-[#F5B400] to-[#E47E00] text-white"
    >
      <h3 class="text-2xl font-bold mb-2">SmartPage</h3>
      <p class="text-sm">
        Baue beeindruckende Seiten mit wenigen Klicks. Einfach, schnell und professionell gestaltet.
      </p>
    </div>

    <div
      class="rounded-2xl p-6 shadow-xl bg-gradient-to-r from-[#8B5CFF] to-[#A076FF] text-white"
    >
      <h3 class="text-2xl font-bold mb-2">SmartDomain</h3>
      <p class="text-sm">
        Sichere Deine eigene Domain direkt in SmartPages â€“ professionell, einfach und DSGVO-konform.
      </p>
    </div>
  </section>

  <!-- ðŸ’¬ Feedback & Kontakt -->
  <section
    class="mx-auto text-center mt-4 mb-10 bg-[#F9FAFB] shadow-md rounded-2xl border border-gray-200 p-6 max-w-3xl"
  >
    <div class="flex flex-col md:flex-row items-center justify-between gap-4">
      <div>
        <h2 class="text-xl font-semibold text-gray-800 mb-1">
          Dein Feedback hilft uns
        </h2>
        <p class="text-gray-600 text-sm">
          Teile Bugs, WÃ¼nsche und Ideen â€“ so verbessern wir SmartPages gezielt.
        </p>
      </div>
      <button
        class="bg-[#D23B3B] hover:bg-[#B83030] text-white font-semibold px-5 py-2 rounded-lg shadow transition text-sm"
        title="Ã–ffnet das Feedbackformular"
      >
        Feedback-Formular Ã¶ffnen
      </button>
    </div>
  </section>

  <!-- ðŸ’¬ Floating Support Button -->
  <button
    id="supportButton"
    class="fixed botto
