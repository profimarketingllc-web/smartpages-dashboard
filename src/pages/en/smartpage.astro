---
import PageLayout from "~/layouts/PageLayout.astro";
import ProductPill from "@/components/core/ProductPill.astro";
import Card from "@/components/ui/Card.astro";
import ProductForm from "@/components/editor/ProductForm.astro";
import ProductPreview from "@/components/editor/ProductPreview.astro";

const schema = [
  { key: "title", label: "Page Title", type: "text" },
  { key: "subtitle", label: "Subtitle", type: "text" },
  { key: "content", label: "Content", type: "textarea", rows: 6 },
  { key: "cta_label", label: "Button Label", type: "text" },
  { key: "cta_url", label: "Button Link", type: "text" },
];

const page = {
  title: "My First SmartPage",
  subtitle: "Simple. Fast. Online.",
  content:
    "Create beautiful landing pages effortlessly – no coding needed. Just write, preview and publish.",
  cta_label: "Learn More",
  cta_url: "#",
  slug: "landing",
};
---

<PageLayout title="SmartPage – SmartPages" sidebar={true} header={true}>
  <ProductPill label="SmartPage" color="orange" />

  <div class="max-w-4xl mx-auto mt-10 space-y-8">
    <Card title="Edit Page">
      <ProductForm schema={schema} data={page} />
    </Card>
    <Card title="Preview">
      <ProductPreview slug={page.slug} />
    </Card>
  </div>
</PageLayout>
