/**
 * ProductGrid.astro – FINAL STABLE
 * ----------------------------------
 * ✔ Fixes Design (Farben, Glow, Gradient)
 * ✔ Badge-Logik sauber im Grid
 * ✔ Login: Teaser + Badge
 * ✔ Dashboard: Upsell ohne Badge
 * ✔ Ganze Kachel ist klickbar
 */

import ProductCard from "./ProductCard.astro";

const {
  lang = "de",
  upsell = null, // kommt vom Dashboard (i18n)
} = Astro.props;

/* -------------------------------------------------- */
/* Login-Teaser (Fallback)                            */
/* -------------------------------------------------- */
const teaser = {
  de: {
    smartprofile:
      "Dein persönliches Online-Profil – sicher in Europa gehostet, optimiert für Sichtbarkeit & Vertrauen.",
    smartpage:
      "Erstelle beeindruckende, konversionsstarke Seiten in wenigen Minuten – ohne Programmierung.",
    smartdomain:
      "Sichere deine eigene Domain, bleib DSGVO-konform und stärke deine Marke.",
    smartlinks:
      "Bündle alle wichtigen Links an einem Ort – sauber, datenschutzkonform und markengerecht.",
    badge: "BALD VERFÜGBAR",
  },
  en: {
    smartprofile:
      "Your personal online profile – securely hosted in Europe and optimized for visibility & trust.",
    smartpage:
      "Create stunning, conversion-focused pages in minutes – no coding required.",
    smartdomain:
      "Secure your own domain, stay GDPR-compliant and strengthen your brand.",
    smartlinks:
      "Bundle all your important links in one place – clean, privacy-first and on brand.",
    badge: "COMING SOON",
  },
};

const t = teaser[lang] || teaser.de;

/* -------------------------------------------------- */
/* Content-Auflösung                                  */
/* -------------------------------------------------- */
const content = {
  smartprofile: upsell?.smartprofile
    ? { ...upsell.smartprofile, label: null }
    : {
        title: "SmartProfile",
        text: t.smartprofile,
        label: t.badge,
      },

  smartpage: upsell?.smartpage
    ? { ...upsell.smartpage, label: null }
    : {
        title: "SmartPage",
        text: t.smartpage,
        label: t.badge,
      },

  smartdomain: upsell?.smartdomain
    ? { ...upsell.smartdomain, label: null }
    : {
        title: "SmartDomain",
        text: t.smartdomain,
        label: t.badge,
      },

  smartlinks: upsell?.smartlinks
    ? { ...upsell.smartlinks, label: null }
    : {
        title: "SmartLinks",
        text: t.smartlinks,
        label: t.badge,
      },
};
