---
/**
 * ProductGrid.astro – STABLE VERSION
 * ---------------------------------
 * ✔ Compiler-safe
 * ✔ Login + Dashboard
 * ✔ Design unverändert
 * ✔ Ganze Kachel klickbar
 */

import ProductCard from "./ProductCard.astro";

const {
  products,
  lang = "de",
  compact = false,
} = Astro.props;

// ✅ IMMER Array erzwingen
const items = Array.isArray(products) ? products : [];
---

<section
  class={`${
    compact
      ? "w-full mx-auto grid grid-cols-1 md:grid-cols-3 gap-5"
      : "max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 px-4 md:px-6 py-4 md:py-5"
  }`}
>
  {items.map((p) => (
    <a
      href={p.action || "#"}
      class="w-full block"
    >
      <ProductCard
        title={p.title}
        label={p.label}
        text={p.text}
        gradient={p.gradient}
        glow={p.glow}
      />
    </a>
  ))}
</section>
