---
import sidebarI18n from "~/utils/i18n/sidebar";

const { lang = "en" } = Astro.props;

const t = (section, key) =>
  sidebarI18n[lang]?.[section]?.[key] ?? key;

const navItems = [
  {
    key: "dashboard",
    label: t("nav", "dashboard"),
    icon: "ğŸ›«",
    href: "/dashboard",
    type: "system",
  },
  {
    key: "smartprofile",
    label: t("nav", "smartprofile"),
    icon: "ğŸ‘¤",
    href: "/smartprofile",
    type: "product",
    glow: "smart-glow-blue",
  },
  {
    key: "smartpage",
    label: t("nav", "smartpage"),
    icon: "ğŸ“„",
    href: "/smartpage",
    type: "product",
    glow: "smart-glow-orange",
  },
  {
    key: "smartdomain",
    label: t("nav", "smartdomain"),
    icon: "ğŸŒ",
    href: "/smartdomain",
    type: "product",
    glow: "smart-glow-purple",
  },
  {
    key: "smartlinks",
    label: t("nav", "smartlinks"),
    icon: "ğŸ”—",
    href: "/smartlinks",
    type: "product",
    glow: "smart-glow-sage",
  },
];
---

<aside class="fixed top-0 left-0 h-screen w-64 bg-[#1E2A45] flex flex-col z-50">
  <!-- Header -->
  <div class="h-20 flex items-center px-6 border-b border-white/10">
    <span class="text-xl font-extrabold text-[#F5B400]">
      SmartCenter
    </span>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 px-4 py-6 space-y-3">
    {navItems.map((item) => (
      <a
        href={item.href}
        class={`
          flex items-center gap-3 px-5 py-3 rounded-2xl text-sm font-medium
          bg-white text-[#1E2A45]
          transition-all duration-300
          ${
            item.type === "system"
              ? "system-hover system-glow"
              : `hover:bg-white ${item.glow}`
          }
        `}
      >
        <span class="text-lg">{item.icon}</span>
        <span>{item.label}</span>
      </a>
    ))}
  </nav>

  <!-- Footer -->
  <div class="px-4 py-4 space-y-3 border-t border-white/10">
    <a
      href="/billing"
      class="
        flex items-center gap-3 px-5 py-3 rounded-2xl text-sm font-medium
        bg-white text-[#1E2A45]
        system-hover system-glow
        transition-all
      "
    >
      ğŸ’³ <span>{t("footer", "billing")}</span>
    </a>

    <a
      href="mailto:support@smartpages.online"
      class="
        flex items-center gap-3 px-5 py-3 rounded-2xl text-sm font-medium
        bg-white text-[#1E2A45]
        system-hover system-glow
        transition-all
      "
    >
      ğŸ’¬ <span>{t("footer", "support")}</span>
    </a>
  </div>
</aside>
