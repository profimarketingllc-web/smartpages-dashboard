---
const currentLang = Astro.url.pathname.startsWith("/en") ? "en" : "de";

// Footer-Button (bilingual)
const footerLabel =
  currentLang === "en" ? "ðŸ’¬ Message the Team" : "ðŸ’¬ Nachricht an das Team";

// Basis-Navigationspunkte (international, feste Produktnamen)
const navItems = [
  { label: "Cockpit", icon: "ðŸ›«", link: "/de/dashboard" },
  { label: "SmartProfile", icon: "ðŸ‘¤", link: "/de/dashboard/smartprofile" },
  { label: "SmartPage", icon: "ðŸ“„", link: "/de/dashboard/smartpage" },
  { label: "SmartDomain", icon: "ðŸŒ", link: "/de/dashboard/smartdomain" },
];

// SprachabhÃ¤ngige Link-Korrektur (DE/EN)
const adjustedNavItems = navItems.map((item) => ({
  ...item,
  link:
    currentLang === "en"
      ? item.link.replace("/de/", "/en/")
      : item.link.replace("/en/", "/de/"),
}));
---

<!-- ðŸ“¦ Sidebar Container -->
<aside
  id="sidebar"
  class="fixed top-0 left-0 h-screen w-64 bg-[#1E2A45] text-white shadow-xl 
         flex flex-col justify-between transition-transform duration-300 ease-in-out
         -translate-x-full md:translate-x-0 z-50"
>
  <!-- ðŸ”¹ Header -->
  <div class="h-20 flex items-center justify-center border-b border-white/10">
    <h2 class="text-xl font-extrabold tracking-wide text-[#F5B400] drop-shadow-[0_0_6px_rgba(245,180,0,0.3)]">
      SmartCenter
    </h2>
  </div>

  <!-- ðŸ”¹ Navigation -->
  <nav class="flex-1 mt-20 space-y-4 overflow-y-auto scrollbar-hide px-3 pb-10">
    {adjustedNavItems.map((item) => (
      <a
        href={item.link}
        class="flex items-center gap-3 px-5 py-3 rounded-2xl text-sm font-medium
               bg-[#f6f8fb] text-[#1E2A45]
               hover:bg-gradient-to-r hover:from-[#F5B400] hover:to-[#E47E00]
               hover:text-white shadow-md hover:shadow-[0_0_20px_rgba(245,180,0,0.4)]
               transition-all duration-300 ease-in-out"
      >
        <span class="text-lg">{item.icon}</span>
        <span>{item.label}</span>
      </a>
    ))}
  </nav>

  <!-- ðŸ”¹ Footer (Kontakt-Button bilingual) -->
  <div class="p-4 border-t border-white/10">
    <a
      href="mailto:support@smartpages.online"
      class="block w-full text-center rounded-2xl py-3 font-medium
             bg-[#4F6EF7] text-white
             hover:bg-white hover:text-[#1E2A45]
             transition-all duration-300 shadow-md"
    >
      {footerLabel}
    </a>
  </div>
</aside>

<!-- ðŸ”¸ Overlay (Mobile) -->
<div
  id="overlay"
  class="fixed inset-0 bg-black/40 backdrop-blur-sm z-40 hidden md:hidden transition-opacity duration-300"
></div>

<!-- ðŸ”¸ Mobile Toggle Button -->
<button
  id="openSidebar"
  class="md:hidden fixed top-4 left-4 bg-[#1E2A45] text-whit
